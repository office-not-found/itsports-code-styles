# –õ–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## Husky

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ git-—Ö—É–∫–æ–≤

### –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è

```shell
npm install --save-dev husky
npx husky init
```

–ü–æ—Å–ª–µ –≤–≤–æ–¥–∞ –≤—Å–µ—Ö –∫–æ–º–∞–Ω–¥ –≤—ã—à–µ –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è .husky –≤ pre-commit —Ö—É–∫–æ–º

![–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è .husky](image.png)

pre-commit —Ñ–∞–π–ª –±—É–¥–µ—Ç –∏—Å–ø–æ–ª–Ω—è—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–∏ –∫–æ–º–∞–Ω–¥—ã `git commit -m 'commit message'`

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è pre-commit —Ö—É–∫–∞

```shell
echo "üîçüé® Linting and formatting staged files before commit!"

npx lint-staged
if [ $? -ne 0 ]; then
  echo "üíÄ‚ùå Lint failed! Check out errors from console and fix it before commit"
  exit 1
fi

echo "ü•≥‚úÖ Formatting and linting process completed!"
```

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ —Å–∫—Ä–∏–ø—Ç–∞ lint-staged —Ñ–∞–π–ª—ã –∏–∑ stage –±—É–¥—É—Ç –∑–∞–∫–æ–º–∏—á–µ–Ω–Ω—ã –∏ –≤—ã —Å–º–æ–∂–µ—Ç–µ –∑–∞–ø—É—à–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

## Lint-staged

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤ —Ç–æ–ª—å–∫–æ –¥–ª—è —Ñ–∞–π–ª–æ–≤, –Ω–∞—Ö–æ–¥—è—â–∏—Ö—Å—è –≤ stage –≥–∏—Ç–∞

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```shell
npm i -D lint-staged
```

### –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞–∫–µ—Ç–∞ –≤ —Ñ–∞–π–ª package.json –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤—Å—Ç–∞–≤–∏—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –æ–±—ä–µ–∫—Ç:

```json
"lint-staged": {
        "src/**/*.ts?(x)": [
            "eslint --cache --fix", // –ª–∏–Ω—Ç–∏–Ω–≥ –∏ —Ñ–∏–∫—Å –æ—à–∏–±–æ–∫ (–µ—Å–ª–∏ –ø—Ä–æ–ø–∏—Å–∞–Ω–æ –≤ –∫–æ–Ω—Ñ–∏–≥–µ)
            "prettier --write" // —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
        ],
        "src/**/*.?(s)css": [
            "prettier --write" // —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
        ]
    }
```

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ —Å–∫—Ä–ø—Ç–∞ lint-staged –≤ package.json –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –≤–≤–µ—Å—Ç–∏ –∫–æ–º–∞–Ω–¥—É

```
npm run prepare
```

–ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –Ω–∞ –∫–∞–∂–¥—ã–π git commit –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è lint-staged

–§–ª–∞–≥ `--cache` –≤ –∫–æ–º–∞–Ω–¥–µ `eslint` –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ñ–∞–π–ª **.eslintcache** –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞

–î–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –≤ .gitignore
